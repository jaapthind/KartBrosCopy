<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Project Workspace - Google Docs</title>
    <link id="favicon" rel="icon" type="image/x-icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico">
    
    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.15);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Roboto', Arial, sans-serif; }
        body { background: #000; height: 100vh; overflow: hidden; display: flex; align-items: center; justify-content: center; }

        /* --- THE LIQUID CORE (AUTONOMOUS METABALLS) --- */
        #liquid-container {
            position: fixed;
            inset: 0;
            z-index: -1;
            filter: blur(35px) contrast(40) brightness(1.2);
            background: radial-gradient(circle at center, #1a1b20, #000);
        }

        canvas { width: 100%; height: 100%; display: block; }

        /* --- SPECTRAL OVERLAY --- */
        #refraction-overlay {
            position: fixed;
            inset: 0;
            z-index: 1;
            pointer-events: none;
            filter: url(#rainbow-refraction);
            opacity: 0.9;
        }

        /* --- UI LAYER --- */
        #main-ui {
            display: flex;
            gap: 25px;
            z-index: 10;
        }

        .glass-panel {
            background: var(--glass-bg);
            border: 1px solid var(--border);
            backdrop-filter: blur(60px) saturate(200%);
            -webkit-backdrop-filter: blur(60px);
            border-radius: 28px;
            box-shadow: 0 40px 80px rgba(0,0,0,0.8);
            color: white;
            padding: 25px;
        }

        #chat-panel { width: 420px; height: 600px; }
        iframe { width: 100%; height: 100%; border: none; border-radius: 12px; }

        /* --- GHOST MODE (PIXEL PERFECT GOOGLE) --- */
        #ghost-mode {
            display: none;
            position: fixed;
            inset: 0;
            background: #fff;
            z-index: 99999;
            flex-direction: column;
        }

        .g-search-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 15vh;
        }

        .g-search-bar {
            width: 584px; height: 46px; border: 1px solid #dfe1e5;
            border-radius: 24px; display: flex; align-items: center;
            padding: 0 15px; margin-top: 25px; transition: box-shadow 0.2s;
        }
        .g-search-bar:hover { box-shadow: 0 1px 6px rgba(32,33,36,0.28); border-color: rgba(0,0,0,0); }
        .g-input { flex: 1; border: none; outline: none; font-size: 16px; margin-left: 10px; }

        /* --- BOOT SCREEN --- */
        #boot {
            position: fixed; inset: 0; background: #000; z-index: 100000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .boot-btn {
            padding: 16px 45px; background: white; border: none; border-radius: 50px;
            font-weight: 700; cursor: pointer; font-size: 15px; letter-spacing: 1px;
            box-shadow: 0 0 30px rgba(255,255,255,0.2);
        }
    </style>
</head>
<body>

    <div id="boot">
        <button class="boot-btn" onclick="startEngine()">INITIALIZE WORKSPACE</button>
    </div>

    <div id="ghost-mode">
        <div style="display: flex; justify-content: flex-end; padding: 15px 25px; gap: 20px; font-size: 13px;">
            <a href="#" style="color: #000; text-decoration: none;">Gmail</a>
            <a href="#" style="color: #000; text-decoration: none;">Images</a>
            <div style="width: 32px; height: 32px; border-radius: 50%; background: #1a73e8; color: #fff; display: flex; align-items: center; justify-content: center;">A</div>
        </div>
        <div class="g-search-container">
            <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" width="272" alt="Google">
            <div class="g-search-bar">
                <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#9aa0a6"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>
                <input type="text" id="g-input" class="g-input" autocomplete="off">
            </div>
            <div style="margin-top: 30px;">
                <button style="background: #f8f9fa; border: 1px solid #f8f9fa; padding: 10px 20px; border-radius: 4px; color: #3c4043; cursor: pointer; margin: 5px;">Google Search</button>
                <button style="background: #f8f9fa; border: 1px solid #f8f9fa; padding: 10px 20px; border-radius: 4px; color: #3c4043; cursor: pointer; margin: 5px;">I'm Feeling Lucky</button>
            </div>
        </div>
    </div>

    <svg style="position: absolute; width:0; height:0;">
      <filter id="rainbow-refraction">
        <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="3" seed="5" result="noise" />
        <feDisplacementMap in="SourceGraphic" in2="noise" scale="100" xChannelSelector="R" yChannelSelector="G" result="warped" />
        <feColorMatrix in="warped" type="matrix" values="1.2 0 0 0 0  0 1.3 0 0 0  0 0 1.8 0 0  0 0 0 1 0" />
      </filter>
    </svg>

    <div id="liquid-container"><canvas id="canvas"></canvas></div>

    <div id="main-ui">
        <div class="glass-panel" style="width: 300px;">
            <h2 style="font-size: 11px; letter-spacing: 3px; opacity: 0.5; margin-bottom: 20px;">CORE_V12</h2>
            <p style="font-size: 13px; opacity: 0.8; line-height: 1.6;">Autonomous Liquid Glass active. Zero permissions required. Press [ESC] for Stealth Override.</p>
        </div>
        <div class="glass-panel" id="chat-panel">
            <iframe src="https://deadsimplechat.com/J4fFLy4Ek"></iframe>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const boot = document.getElementById('boot');
        const ghost = document.getElementById('ghost-mode');
        const gInput = document.getElementById('g-input');
        
        let blobs = [];
        let engineRunning = false;

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.onresize = resize;
        resize();

        function startEngine() {
            boot.style.display = 'none';
            engineRunning = true;
            // Create 25 High-Density Blobs
            for(let i=0; i<25; i++) {
                blobs.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    r: 150 + Math.random() * 200,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    color: `hsl(${Math.random() * 360}, 70%, 70%)`
                });
            }
            render();
        }

        function render() {
            if(!engineRunning) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            blobs.forEach(b => {
                b.x += b.vx;
                b.y += b.vy;

                if(b.x < -b.r) b.x = canvas.width + b.r;
                if(b.x > canvas.width + b.r) b.x = -b.r;
                if(b.y < -b.r) b.y = canvas.height + b.r;
                if(b.y > canvas.height + b.r) b.y = -b.r;

                // Gradient circles that merge via the filter
                let grad = ctx.createRadialGradient(b.x, b.y, 0, b.x, b.y, b.r);
                grad.addColorStop(0, 'rgba(255,255,255,1)');
                grad.addColorStop(1, 'rgba(255,255,255,0)');
                
                ctx.fillStyle = grad;
                ctx.beginPath();
                ctx.arc(b.x, b.y, b.r, 0, Math.PI * 2);
                ctx.fill();
            });
            requestAnimationFrame(render);
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape") {
                const isHidden = ghost.style.display === 'none' || ghost.style.display === '';
                if (isHidden) {
                    ghost.style.display = 'flex';
                    document.getElementById('page-title').innerText = "Google";
                    document.getElementById('favicon').href = "https://www.google.com/favicon.ico";
                    gInput.focus();
                } else {
                    ghost.style.display = 'none';
                    document.getElementById('page-title').innerText = "Project Workspace - Google Docs";
                    document.getElementById('favicon').href = "https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico";
                }
            }
        });

        gInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const q = gInput.value.trim();
                if(q) window.location.href = `https://www.google.com/search?q=${encodeURIComponent(q)}`;
            }
        });
    </script>
</body>
</html>
